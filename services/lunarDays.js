/**
 * Lunar Day Content Service
 * 
 * Provides descriptions and guidance for each lunar day,
 * similar to content from moonday.info
 */

export const lunarDaysData = {
  en: [
    {
      day: 1,
      title: "Day 1 · Plant the Seed",
      summary: "A fresh start. Keep actions light, focus on intentions.",
      bulletPoints: [
        "Set gentle goals, avoid intense physical exertion.",
        "Meditation and planning flourish.",
        "Stay hydrated; nervous system is sensitive."
      ],
      notes: [
        "The first lunar day prizes purity of thought. Keep the environment calm and uncluttered.",
        "Avoid binding commitments. Instead, sketch plans you can revisit as the cycle unfolds.",
        "Foods that are light and raw support the body's reset."
      ],
      sections: {
        overview: "The month opens with a translucent atmosphere—ideal for forming the seed idea of any venture. Observe, breathe, and articulate what you truly want to call in.",
        health: "Favour herbal teas, steamed vegetables, breathwork and restorative stretching. The immune system is impressionable, so avoid crowded places.",
        business: "Limit yourself to strategic notebooks and whiteboard work. Draft OKRs, set intentions for money flow, but postpone signatures.",
        relationships: "Speak softly and practice benevolent listening. Shared visualization or creating a mood board together strengthens bonds.",
        sleep: "Early bedtime, light dinner, lavender or chamomile to soothe the mind. Record the first dreams—they often hint at the month's storyline.",
        practice: "Meditation on the third eye, sankalpa (intention setting), journaling, mindful tidying.",
        symbol: "Winged Seed",
        stone: "Moonstone",
        color: "Pearl white",
        zodiac: "Water signs feel especially intuitive; Earth signs benefit from letting go of rigid schedules.",
        astrologers: {
          globa: "Globa: keep thoughts crystal clear; any envy poisons the rest of the cycle.",
          vronsky: "Vronsky: pay debts, ask forgiveness, begin talismans.",
          zaraev: "Zaraev: chant protective mantras, avoid sharp tools."
        }
      }
    },
    {
      day: 2,
      title: "Day 2 · Moon in Scorpio",
      summary: "Research, introspection, and strategic planning thrive.",
      bulletPoints: [
        "Excellent for analysis, scientific work, deep reading.",
        "Conversations benefit from honesty and emotional nuance.",
        "Anger and resentment surface easily—practice deliberate calm."
      ],
      notes: [
        "Channel the intensity into creative or spiritual practice. Journaling and shadow work are productive.",
        "Ideal time to refine financial plans or investment research; caution with impulsive moves.",
        "Eat nourishing soups, grains, and fermented foods to ground the watery energies."
      ],
      sections: {
        overview: "The second lunar day deepens yesterday's intentions. Feelings run subterranean, therefore observe what truly nourishes or drains you.",
        health: "Support detox pathways with broth, miso, seaweed, fermented foods. Gentle lymphatic massage and warm baths help release tension.",
        business: "Perfect for financial diagnostics, SWOT analysis, reviewing contracts. Delay public launches if emotions are unstable.",
        relationships: "Conversations dig below the surface. Share secrets carefully and avoid jealousy spirals.",
        sleep: "Dreams tend to be vivid. Keep a notebook to decode symbolism connected with resources and trust.",
        practice: "Shadow journaling, tarot spreads, pranayama focusing on exhalations, sound healing.",
        symbol: "Chalice",
        stone: "Obsidian",
        color: "Deep indigo",
        zodiac: "Fixed signs must avoid stubborn ultimatums; Scorpio and Cancer can channel empathy to guide others.",
        astrologers: {
          globa: "Globa: do not gossip—any word returns amplified.",
          vronsky: "Vronsky: generosity of time and money wards off obsessive thoughts.",
          zaraev: "Zaraev: refined instincts aid researchers and psychologists."
        }
      }
    },
    {
      day: 3,
      title: "Day 3 · Activating Momentum",
      summary: "Energy levels rise. Great for workouts and decisive moves.",
      bulletPoints: [
        "Complete errands; resolve lingering tasks.",
        "Collaborate on difficult conversations while staying diplomatic.",
        "Release tension with movement; stretching or martial arts shine."
      ],
      notes: [
        "The third lunar day favors action paired with strategy—don't rush headlong without a plan.",
        "Channel assertiveness into constructive outlets to avoid conflicts.",
        "Support the body with protein-rich meals; stay well rested."
      ],
      sections: {
        overview: "Today the moon ignites forward drive. Think of drawing a bow—direct that power consciously.",
        health: "Ideal for HIIT, strength sessions, saunas, contrast showers. Protect tendons and hydrate with electrolytes.",
        business: "Negotiate, launch campaigns, pitch bold ideas. Stand firm yet stay polite; tempers flash quickly.",
        relationships: "Clarify roles, settle disputes, plan shared adventures. Avoid sarcasm.",
        sleep: "Wind down with magnesium, limit screens, stretch hips to release built-up fire.",
        practice: "Dynamic meditation, qigong, breath-of-fire, martial arts kata.",
        symbol: "Leopard",
        stone: "Red jasper",
        color: "Scarlet",
        zodiac: "Fire signs must channel passion constructively; Air signs can act as mediators.",
        astrologers: {
          globa: "Globa: righteous anger destroys obstacles; selfish anger destroys you.",
          vronsky: "Vronsky: give promises only if you can keep them immediately.",
          zaraev: "Zaraev: good day for competitive sports and decisive surgery."
        }
      }
    },
    {
      day: 4,
      title: "Day 4 · The Mountain",
      summary: "Stability and persistence. Build foundations.",
      bulletPoints: [
        "Focus on long-term projects and commitments.",
        "Avoid starting new ventures; strengthen existing ones.",
        "Physical exercise and grounding activities are beneficial."
      ],
      notes: [
        "This day emphasizes structure and discipline. Good for administrative work and organizing.",
        "Be patient with obstacles; they are part of the process.",
        "Root vegetables and hearty meals support the day's energy."
      ],
      sections: {
        overview: "Gravity increases, inviting discipline. Think architecture, legacy, patient craft.",
        health: "Strengthen bones: weight training, calcium-rich foods, posture work. Massage knees and lower back.",
        business: "Audit schedules, file paperwork, shore up logistics and budgets. Perfect for signing conservative agreements.",
        relationships: "Discuss family responsibilities, estate planning, renovation details. Speak from a place of maturity.",
        sleep: "Deep, dreamless rest after evening foot baths or yin yoga.",
        practice: "Mantras for stability, earth element meditations, mandala drawing.",
        symbol: "Mountain",
        stone: "Smoky quartz",
        color: "Slate grey",
        zodiac: "Capricorn and Taurus gain productivity; Gemini must slow down to avoid burnout.",
        astrologers: {
          globa: "Globa: work with clay or soil to absorb negativity.",
          vronsky: "Vronsky: stubbornness is useful today if coupled with humility.",
          zaraev: "Zaraev: land-related deals and construction rituals prosper."
        }
      }
    },
    {
      day: 5,
      title: "Day 5 · The Unicorn",
      summary: "Creativity and inspiration flow freely.",
      bulletPoints: [
        "Excellent for artistic projects and creative expression.",
        "Social interactions are harmonious and uplifting.",
        "Avoid overindulgence; maintain balance."
      ],
      notes: [
        "The fifth lunar day brings clarity and vision. Trust your intuition.",
        "Good time for networking and building relationships.",
        "Light, fresh foods align with the day's vibrant energy."
      ],
      sections: {
        overview: "Mythic imagination awakens. This day invites beauty, poetry, and bold colour.",
        health: "Fresh juices, berries, leafy greens, singing practices for the throat chakra. Beware sugar crashes.",
        business: "Great for brainstorming, marketing visuals, presentations. Seal alliances in a celebratory context.",
        relationships: "Romantic gestures, art dates, meaningful compliments amplify harmony.",
        sleep: "Evening storytelling or gratitude journaling evokes symbolic dreams.",
        practice: "Creative visualization, painting, music therapy, mantra chanting.",
        symbol: "Unicorn",
        stone: "Aquamarine",
        color: "Turquoise",
        zodiac: "Pisces and Libra glide easily; Virgo should embrace spontaneity.",
        astrologers: {
          globa: "Globa: dedicate the day to kindness; every gift returns manifold.",
          vronsky: "Vronsky: avoid gluttony, but do rejoice.",
          zaraev: "Zaraev: ideal for healers and artists to present their work."
        }
      }
    }
  ],
  ru: [
    {
      day: 1,
      title: "День 1 · Посев Семени",
      summary: "Новое начало. Действия легкие, фокус на намерениях.",
      bulletPoints: [
        "Ставьте мягкие цели, избегайте интенсивных физических нагрузок.",
        "Медитация и планирование процветают.",
        "Поддерживайте водный баланс; нервная система чувствительна."
      ],
      notes: [
        "Первый лунный день ценит чистоту мысли. Поддерживайте спокойную и незагроможденную обстановку.",
        "Избегайте обязывающих обязательств. Вместо этого набросайте планы, к которым можно вернуться по мере развития цикла.",
        "Легкая и сырая пища поддерживает перезагрузку организма."
      ],
      sections: {
        overview: "Прозрачный старт месяца. Внимательно формулируйте намерение, наблюдайте знаки, не спешите.",
        health: "Легкие супы, зелёные смузи, дыхательные практики и мягкий стретчинг. Иммунитет впечатлительный — меньше людных мест.",
        business: "Составляйте дорожные карты, прописывайте видение, но не ставьте подписи.",
        relationships: "Говорите шёпотом, делитесь мечтой, рисуйте совместные мудборды.",
        sleep: "Ранний сон, лёгкая ароматерапия, фиксируйте первые сны — они показывают сюжет месяца.",
        practice: "Санкальпа, ведение дневника, медитация на чистое пространство, расхламление.",
        symbol: "Крылатое семя",
        stone: "Лунный камень",
        color: "Перламутр",
        zodiac: "Водные знаки особенно интуитивны; земным полезно отпустить контроль.",
        astrologers: {
          globa: "Глоба: любые злые мысли загрязняют весь цикл.",
          vronsky: "Вронский: хорошо отдавать долги и просить прощения.",
          zaraev: "Зараев: читайте защитные мантры, избегайте острых предметов."
        }
      }
    },
    {
      day: 2,
      title: "День 2 · Луна в Скорпионе",
      summary: "Исследования, интроспекция и стратегическое планирование процветают.",
      bulletPoints: [
        "Отлично для анализа, научной работы, глубокого чтения.",
        "Разговоры выигрывают от честности и эмоциональной нюансировки.",
        "Гнев и обида легко всплывают—практикуйте осознанное спокойствие."
      ],
      notes: [
        "Направьте интенсивность в творческую или духовную практику. Ведение дневника и работа с тенью продуктивны.",
        "Идеальное время для уточнения финансовых планов или инвестиционных исследований; осторожность с импульсивными действиями.",
        "Ешьте питательные супы, зерновые и ферментированные продукты, чтобы заземлить водные энергии."
      ],
      sections: {
        overview: "Второй лунный день углубляет вчерашние намерения. Внимание к тому, что питает душу и тело.",
        health: "Бульоны, мисо, ламинария, ферментированные продукты. Лимфодренаж, тёплые ванны, баня без перегрева.",
        business: "Финансовый аудит, разбор договоров, SWOT-анализ. Публичные релизы лучше отложить.",
        relationships: "Диалоги становятся исповедальными. Бережно обращайтесь с секретами, избегайте ревности.",
        sleep: "Сны яркие и символичные; фиксируйте образы, связанные с ресурсами.",
        practice: "Теневой дневник, таро-расклады, пранаяма с акцентом на выдох, звукотерапия.",
        symbol: "Чаша",
        stone: "Обсидиан",
        color: "Индиго",
        zodiac: "Фиксированные знаки рискуют застрять в обидах; водные умеют трансформировать эмоции.",
        astrologers: {
          globa: "Глоба: молчите о чужих тайнах, иначе они всплывут против вас.",
          vronsky: "Вронский: щедрость исцеляет зависть.",
          zaraev: "Зараев: благоприятно для психологов и исследователей."
        }
      }
    },
    {
      day: 3,
      title: "День 3 · Активация Импульса",
      summary: "Уровень энергии растет. Отлично для тренировок и решительных действий.",
      bulletPoints: [
        "Завершайте дела; решайте затянувшиеся задачи.",
        "Сотрудничайте в трудных разговорах, оставаясь дипломатичными.",
        "Снимайте напряжение движением; растяжка или боевые искусства сияют."
      ],
      notes: [
        "Третий лунный день благоприятствует действию в паре со стратегией—не бросайтесь сломя голову без плана.",
        "Направьте напористость в конструктивные каналы, чтобы избежать конфликтов.",
        "Поддерживайте организм белковой пищей; хорошо отдыхайте."
      ],
      sections: {
        overview: "День отвечает за волю и отстаивание границ. Сила растёт — её важно направить.",
        health: "Интенсивные тренировки, сауна, контрастный душ, белковая диета. Берегите связки.",
        business: "Встречи, переговоры, запуск проектов. Будьте прямыми, но дружелюбными.",
        relationships: "Уточняйте роли, решайте конфликты честно, без язвительности.",
        sleep: "Перед сном тёплые ванночки для ног, магний, отключение гаджетов.",
        practice: "Динамическая медитация, цигун, боевые ката, пранаяма «огненное дыхание».",
        symbol: "Барс",
        stone: "Красная яшма",
        color: "Алая",
        zodiac: "Огненным знакам важно направлять страсть в творчество; воздушные выступают дипломатами.",
        astrologers: {
          globa: "Глоба: праведный гнев разрушает преграды, корыстный — судьбу.",
          vronsky: "Вронский: держите слово, иначе энергия обратится против вас.",
          zaraev: "Зараев: подходит для соревнований и решительных операций."
        }
      }
    },
    {
      day: 4,
      title: "День 4 · Гора",
      summary: "Стабильность и настойчивость. Стройте основы.",
      bulletPoints: [
        "Фокус на долгосрочных проектах и обязательствах.",
        "Избегайте начинать новые предприятия; укрепляйте существующие.",
        "Физические упражнения и заземляющие активности полезны."
      ],
      notes: [
        "Этот день подчеркивает структуру и дисциплину. Хорошо для административной работы и организации.",
        "Будьте терпеливы с препятствиями; они часть процесса.",
        "Корнеплоды и сытные блюда поддерживают энергию дня."
      ],
      sections: {
        overview: "Луна замедляет темп, предлагая устойчивость и терпение. Время строить фундамент.",
        health: "Укрепляйте кости и суставы: силовые тренировки, кальций, массаж коленей.",
        business: "Бумаги, планировки, бухгалтерия, юридические тонкости. Подписывайте только выверенные договоры.",
        relationships: "Обсуждайте семейный бюджет, ремонт, наследство. Ответственность выше эмоций.",
        sleep: "Глубокий сон после тёплого молока с мускатом или йин-йоги.",
        practice: "Мантры Земли, работа с глиной, практика благодарности предкам.",
        symbol: "Гора",
        stone: "Дымчатый кварц",
        color: "Графит",
        zodiac: "Козероги и Тельцы продуктивны; Близнецам полезно замедлиться.",
        astrologers: {
          globa: "Глоба: любые дела, связанные с почвой, снимают негатив.",
          vronsky: "Вронский: упрямство полезно, если служит делу.",
          zaraev: "Зараев: удачны строительные и земельные операции."
        }
      }
    },
    {
      day: 5,
      title: "День 5 · Единорог",
      summary: "Творчество и вдохновение свободно текут.",
      bulletPoints: [
        "Отлично для художественных проектов и творческого самовыражения.",
        "Социальные взаимодействия гармоничны и воодушевляющи.",
        "Избегайте излишеств; поддерживайте баланс."
      ],
      notes: [
        "Пятый лунный день приносит ясность и видение. Доверяйте своей интуиции.",
        "Хорошее время для нетворкинга и построения отношений.",
        "Легкая, свежая пища соответствует яркой энергии дня."
      ],
      sections: {
        overview: "Включается поэтичное восприятие мира. День подходит для красоты и вдохновенного общения.",
        health: "Свежие соки, ягоды, зелёные салаты, вокал для раскрытия горла. Следите за уровнем сахара.",
        business: "Брейнштормы, презентации, бренд-дизайн. Закрепляйте союзы в праздничной атмосфере.",
        relationships: "Романтические жесты, арт-свидания, искренние комплименты.",
        sleep: "Вечером практикуйте благодарность, читайте сказки — сны станут символичными.",
        practice: "Творческая визуализация, живопись, игра на инструментах, мантры.",
        symbol: "Единорог",
        stone: "Аквамарин",
        color: "Бирюза",
        zodiac: "Рыбы и Весы парят легко; Девам полезно позволить себе спонтанность.",
        astrologers: {
          globa: "Глоба: щедрость и добрые слова многократно возвращаются.",
          vronsky: "Вронский: избегайте чревоугодия, но радуйтесь.",
          zaraev: "Зараев: хороший день для целителей и художников."
        }
      }
    }
  ]
};

const PLACEHOLDER_TEMPLATES = {
  en: {
    titlePrefix: "Lunar Day",
    summary: "Detailed guidance for lunar day {day} will be published soon. Follow the universal advice below for now.",
    bulletPoints: [
      "Observe energy peaks and dips; journal any repeating themes.",
      "Favor seasonal foods, warm drinks, and mindful breathing.",
      "Keep intentions clean—resentment spreads through the cycle."
    ],
    notes: [
      "Each lunar day carries its own myth and physiology. Even if exact text is pending, act with awareness and kindness.",
      "Use this period to align habits with the moon: rise earlier, hydrate, stretch, and speak with care.",
      "Return later for deeper symbolism specific to day {day}."
    ],
    sections: {
      overview: "Placeholder description for lunar day {day}. Customize this copy with insights from your preferred astrologers.",
      health: "Default wellness focus: moderate activity, clean meals, nervous-system support.",
      business: "Plan calmly, respect timing, avoid forcing outcomes when intuition says pause.",
      relationships: "Practice empathetic dialogue and rituals of gratitude.",
      sleep: "Track dreams; they often mirror the moon's lesson of the day.",
      practice: "Breathwork, journaling, mantra repetition, mindful walks.",
      symbol: "Awaiting symbol",
      stone: "Clear quartz",
      color: "Soft silver",
      zodiac: "Adapt guidance to your rising sign once specific text is added.",
      astrologers: {
        globa: "Globa: keep thoughts bright; unfinished resentment distorts the cycle.",
        vronsky: "Vronsky: humility and generosity safeguard results.",
        zaraev: "Zaraev: observe personal omens; they already hint at day {day}."
      }
    }
  },
  ru: {
    titlePrefix: "Лунный день",
    summary: "Подробное описание {day}-го лунного дня скоро появится. Пока ориентируйтесь на универсальные рекомендации ниже.",
    bulletPoints: [
      "Отслеживайте всплески энергии и записывайте повторяющиеся сюжеты.",
      "Отдавайте предпочтение сезонной пище, тёплым напиткам и осознанному дыханию.",
      "Держите мысли чистыми — раздражение окрашивает весь цикл."
    ],
    notes: [
      "Каждый лунный день несёт свой миф и физиологию. Даже без точного текста действуйте внимательно и доброжелательно.",
      "Совмещайте привычки с лунным ритмом: ранний подъём, вода, растяжка, бережная речь.",
      "Загляните позже за расширенной символикой именно для дня {day}."
    ],
    sections: {
      overview: "Заглушка для описания {day}-го лунного дня. Здесь разместится аналитика выбранных астрологов.",
      health: "Базовый фокус здоровья: умеренная активность, чистое питание, поддержка нервной системы.",
      business: "Планируйте без суеты, уважайте тайминг, не давите, если интуиция против.",
      relationships: "Практикуйте эмпатию и ритуалы благодарности.",
      sleep: "Записывайте сны — они отражают урок лунного дня.",
      practice: "Дыхательные практики, дневник, мантры, осознанные прогулки.",
      symbol: "Символ уточняется",
      stone: "Горный хрусталь",
      color: "Светлое серебро",
      zodiac: "Позже добавьте подсказки для каждого знака.",
      astrologers: {
        globa: "Глоба: мысли держите светлыми, иначе цикл искажается.",
        vronsky: "Вронский: смирение и щедрость поддерживают результат.",
        zaraev: "Зараев: наблюдайте личные знаки — они уже говорят о дне {day}."
      }
    }
  }
};

function fillTemplate(value, day) {
  if (typeof value === 'string') {
    return value.replace('{day}', String(day));
  }

  if (Array.isArray(value)) {
    return value.map(item => fillTemplate(item, day));
  }

  if (value && typeof value === 'object') {
    return Object.fromEntries(
      Object.entries(value).map(([key, val]) => [key, fillTemplate(val, day)])
    );
  }

  return value;
}

function createPlaceholderDay(day, lang) {
  const template = PLACEHOLDER_TEMPLATES[lang] || PLACEHOLDER_TEMPLATES.en;
  return {
    day,
    title: `${template.titlePrefix} ${day}`,
    summary: fillTemplate(template.summary, day),
    bulletPoints: fillTemplate(template.bulletPoints, day),
    notes: fillTemplate(template.notes, day),
    sections: fillTemplate(template.sections, day)
  };
}

function buildLunarDay(dayNumber, lang) {
  const localizedData = lunarDaysData[lang] || [];
  const placeholder = createPlaceholderDay(dayNumber, lang);
  const override = localizedData.find(d => d.day === dayNumber);

  if (!override) {
    return placeholder;
  }

  return {
    ...placeholder,
    ...override,
    title: override.title || placeholder.title,
    summary: override.summary || placeholder.summary,
    bulletPoints: override.bulletPoints?.length ? override.bulletPoints : placeholder.bulletPoints,
    notes: override.notes?.length ? override.notes : placeholder.notes,
    sections: {
      ...placeholder.sections,
      ...(override.sections || {})
    }
  };
}

/**
 * Get lunar day content by day number and language
 */
export function getLunarDayContent(dayNumber, lang = 'en') {
  const safeDay = Math.min(30, Math.max(1, dayNumber));
  return buildLunarDay(safeDay, lang);
}

/**
 * Get all available lunar days for navigation
 */
export function getAllLunarDays(lang = 'en') {
  return Array.from({ length: 30 }, (_, idx) => buildLunarDay(idx + 1, lang));
}










